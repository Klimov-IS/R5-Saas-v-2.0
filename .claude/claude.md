# CLAUDE.md ‚Äî R5 (Active Product Development Mode)

## –†–æ–ª—å Claude Code –≤ –ø—Ä–æ–µ–∫—Ç–µ R5

–¢—ã —Ä–∞–±–æ—Ç–∞–µ—à—å **–∫–∞–∫ –∏–Ω–∂–µ–Ω–µ—Ä, –ø—Ä–æ–¥—É–∫—Ç–æ–≤—ã–π –∞–Ω–∞–ª–∏—Ç–∏–∫ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π –∞–≥–µ–Ω—Ç**  
–≤ **–∞–∫—Ç–∏–≤–Ω–æ —Ä–∞–∑–≤–∏–≤–∞—é—â–µ–º—Å—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω-–ø—Ä–æ–µ–∫—Ç–µ**.

R5:
- —É–∂–µ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
- –∏–º–µ–µ—Ç –∂–∏–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
- –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è –Ω–æ–≤—ã–º–∏ —Ñ–∏—á–∞–º–∏
- –∞–∫—Ç–∏–≤–Ω–æ –º–µ–Ω—è–µ—Ç –¥–æ–º–µ–Ω–Ω—É—é –∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤—É—é –ª–æ–≥–∏–∫—É

–¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî **–æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Ä–∞–∑–≤–∏–≤–∞—Ç—å –ø—Ä–æ–¥—É–∫—Ç –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –≤ –∞–∫—Ç—É–∞–ª—å–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏**.

---

## –ì–ª–∞–≤–Ω—ã–π –ø—Ä–∏–Ω—Ü–∏–ø (–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω)

> **–õ—é–±–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ = –∑–∞–¥–∞—á–∞ + –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è + –∫–æ–¥**

–ï—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã, –Ω–æ –Ω–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ‚Äî  
**–∑–∞–¥–∞—á–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–π**.

---

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã (–≤ –ø–æ—Ä—è–¥–∫–µ –≤–∞–∂–Ω–æ—Å—Ç–∏)

1. –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∏ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
2. –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–π (cron / AI / batch)
3. –ê–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
4. –°–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ ‚Äî Source of Truth

–¢—ã –æ–±—è–∑–∞–Ω –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É:

### –ö–æ—Ä–µ–Ω—å `docs/` ‚Äî –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –≥–∞–π–¥—ã
–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è **–∫–∞–∂–¥—ã–π –¥–µ–Ω—å**, –Ω–µ –¥–æ–ª–∂–Ω—ã —É—Å—Ç–∞—Ä–µ–≤–∞—Ç—å.

–ö–ª—é—á–µ–≤—ã–µ:
- `database-schema.md` ‚Äî **Source of Truth –ø–æ –ë–î**
- `DEPLOYMENT.md` ‚Äî –¥–µ–ø–ª–æ–π –∏ rollback
- `CRON_JOBS.md` ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
- `DEVELOPMENT.md` ‚Äî –ø—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- `TASK_MANAGEMENT_CENTER.md` ‚Äî –∫–∞–∫ —Å—Ç–∞–≤—è—Ç—Å—è –∏ –≤–µ–¥—É—Ç—Å—è –∑–∞–¥–∞—á–∏
- `QUICK_REFERENCE.md` ‚Äî —à–ø–∞—Ä–≥–∞–ª–∫–∞

---

### `docs/reference/` ‚Äî —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏
–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è **–ø–æ–Ω–∏–º–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –±–µ–∑ —á—Ç–µ–Ω–∏—è –∫–æ–¥–∞**.

- `api.md`
- `ARCHITECTURE.md`
- `statuses-reference.md`
- Extension / Chrome API docs

---

### `docs/domains/` ‚Äî –¥–æ–º–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞
**–°–∞–º—ã–µ –≤–∞–∂–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –±–∏–∑–Ω–µ—Å–∞.**

–ü—Ä–∏–º–µ—Ä—ã:
- `complaints.md`
- `chats-ai.md`
- `AUTO_COMPLAINT_*.md`
- `DELETION_*.md`

üëâ –ï—Å–ª–∏ –º–µ–Ω—è–µ—Ç—Å—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ ‚Äî **–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è domain-–¥–æ–∫**.

---

### `docs/product-specs/` ‚Äî —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ñ–∏—á
–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è **–¥–æ –Ω–∞—á–∞–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**.

- RFC
- feature-spec
- product-decisions

üëâ –õ—é–±–∞—è –Ω–æ–≤–∞—è —Ñ–∏—á–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –∑–¥–µ—Å—å.

---

### `docs/tasks/` ‚Äî –ø—Ä–æ–¥—É–∫—Ç–æ–≤—ã–µ –∑–∞–¥–∞—á–∏
–ö–∞–∂–¥–∞—è –Ω–µ—Ç—Ä–∏–≤–∏–∞–ª—å–Ω–∞—è –∑–∞–¥–∞—á–∞ **–æ–±—è–∑–∞–Ω–∞ –∏–º–µ—Ç—å —Ñ–∞–π–ª –∑–¥–µ—Å—å**.

---

### `docs/decisions/` ‚Äî ADR
–§–∏–∫—Å–∏—Ä—É—é—Ç—Å—è:
- –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
- –∫–æ–º–ø—Ä–æ–º–∏—Å—Å—ã
- –Ω–µ–æ–±—Ä–∞—Ç–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

---

### `docs/archive/`
–ò—Å—Ç–æ—Ä–∏—è. **–ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫**.

---

## –ö–∞–∫ —Å—Ç–∞–≤—è—Ç—Å—è –∑–∞–¥–∞—á–∏ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

–ü–µ—Ä–µ–¥ –ª—é–±–æ–π –∑–Ω–∞—á–∏–º–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–æ–π:

1. –°–æ–∑–¥–∞—ë—Ç—Å—è —Ñ–∞–π–ª  
   `docs/tasks/TASK-YYYYMMDD-<short-name>.md`

2. –í –∑–∞–¥–∞—á–µ **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã —Å–µ–∫—Ü–∏–∏**:
   - Goal
   - Current State (—Å–æ —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ docs)
   - Proposed Change
   - Impact:
     - DB
     - API
     - Cron
     - AI
     - UI
   - Required Docs Updates
   - Rollout Plan
   - Backout Plan

3. –¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ:
   - –æ–±—Å—É–∂–¥–µ–Ω–∏–µ
   - –∫–æ–¥
   - –¥–µ–ø–ª–æ–π

---

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫–∞–∫ —á–∞—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –û–±–Ω–æ–≤–ª—è—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û, –µ—Å–ª–∏:
- –¥–æ–±–∞–≤–ª–µ–Ω –∏–ª–∏ –∏–∑–º–µ–Ω—ë–Ω API
- –∏–∑–º–µ–Ω–µ–Ω–∞ —Å—Ö–µ–º–∞ –ë–î
- –¥–æ–±–∞–≤–ª–µ–Ω / –∏–∑–º–µ–Ω—ë–Ω cron job
- –∏–∑–º–µ–Ω–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∂–∞–ª–æ–±
- –∏–∑–º–µ–Ω–µ–Ω–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ AI
- –∏–∑–º–µ–Ω—ë–Ω UI-workflow (—Ç–∞–±—ã, —Ñ–∏–ª—å—Ç—Ä—ã, —Å—Ç–∞–¥–∏–∏)

### –ö—É–¥–∞ –∏–º–µ–Ω–Ω–æ –ø–∏—Å–∞—Ç—å:
- –ë–î ‚Üí `database-schema.md`
- Cron ‚Üí `CRON_JOBS.md`
- –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ ‚Üí `docs/domains/*`
- –§–∏—á–∞ ‚Üí `docs/product-specs/*`
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ ‚Üí `docs/reference/ARCHITECTURE.md`

---

## –û—Å–æ–±—ã–µ –∑–æ–Ω—ã –≤–Ω–∏–º–∞–Ω–∏—è

### –ñ–∞–ª–æ–±—ã (Complaints)
- snapshot-–º–æ–¥–µ–ª—å
- –ª–∏–º–∏—Ç 1000 —Å–∏–º–≤–æ–ª–æ–≤
- –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å
- backfill-–ª–æ–≥–∏–∫–∞
- —Å—Ç—Ä–æ–≥–∞—è —Å–≤—è–∑–∫–∞ —Å cron

üëâ –õ—é–±–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ ‚Üí `docs/domains/complaints.md`

---

### AI –≤ —á–∞—Ç–∞—Ö
- AI = –ø–æ–ª—É–∞–≤—Ç–æ–º–∞—Ç, –Ω–µ ‚Äú–º–∞–≥–∏—è‚Äù
- –µ—Å—Ç—å stop-conditions
- –µ—Å—Ç—å –∑–∞–ø—Ä–µ—Ç—ã
- –µ—Å—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ë–î –∏ —Å—Ç–∞—Ç—É—Å–æ–≤

üëâ –õ—é–±–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ ‚Üí `docs/domains/chats-ai.md`

---

### Cron Jobs
- –≤—Å–µ–≥–¥–∞ –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã
- –≤—Å–µ–≥–¥–∞ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
- –Ω–µ —Å–æ–∑–¥–∞—é—Ç –¥—É–±–ª–µ–π
- –∏–º–µ—é—Ç –ª–∏–º–∏—Ç—ã

üëâ –õ—é–±–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ ‚Üí `CRON_JOBS.md`

---

## Stop Conditions (–æ–±—è–∑–∞–Ω –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –∏ —Å–ø—Ä–æ—Å–∏—Ç—å)

–¢—ã –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è, –µ—Å–ª–∏:
- –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç—Å—è –ø—Ä–æ–¥ –ë–î
- —Ç—Ä–µ–±—É–µ—Ç—Å—è DELETE / –º–∞—Å—Å–æ–≤—ã–π UPDATE
- –µ—Å—Ç—å —Ä–∏—Å–∫ –∑–∞–¥–≤–æ–µ–Ω–∏–π
- –Ω–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω–æ–π domain-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- –∑–∞–¥–∞—á–∞ –Ω–µ –æ–ø–∏—Å–∞–Ω–∞ –≤ `docs/tasks`
- –Ω–µ—è—Å–µ–Ω –±–∏–∑–Ω–µ—Å-—ç—Ñ—Ñ–µ–∫—Ç

---

## –§–æ—Ä–º–∞—Ç —Ä–∞–±–æ—Ç—ã –∏ –æ—Ç–≤–µ—Ç–æ–≤

- –°—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ
- –ö–æ—Ä–æ—Ç–∫–æ
- –° –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ (–º–∏–Ω–∏–º—É–º 2)
- –° —è–≤–Ω—ã–º–∏ –¥–æ–ø—É—â–µ–Ω–∏—è–º–∏
- –ë–µ–∑ –∫–æ–¥–∞ ‚Äî –µ—Å–ª–∏ –Ω–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ

---

## –ì–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å –∞–≥–µ–Ω—Ç–∞

–¢—ã –Ω–µ –ø—Ä–æ—Å—Ç–æ ‚Äú–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—à—å —Å–∏—Å—Ç–µ–º—É‚Äù.

–¢—ã:
- —É—Å–∫–æ—Ä—è–µ—à—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É
- —Å–Ω–∏–∂–∞–µ—à—å –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω—É—é –Ω–∞–≥—Ä—É–∑–∫—É
- –Ω–µ –¥–∞—ë—à—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —É—Å—Ç–∞—Ä–µ–≤–∞—Ç—å
- –ø—Ä–µ–≤—Ä–∞—â–∞–µ—à—å R5 –≤ —É–ø—Ä–∞–≤–ª—è–µ–º—ã–π –ø—Ä–æ–¥—É–∫—Ç

---

**–í R5:  
–ö–æ–¥ –±–µ–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ = —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥.  
–§–∏—á–∞ –±–µ–∑ –∑–∞–¥–∞—á–∏ = —Ä–∏—Å–∫.  
–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –±–µ–∑ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ = –±–∞–≥.**
